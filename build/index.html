<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Zhiren API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;ruby&quot;,&quot;javascript&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://zhiren.com'>知人主页</a></li>
            <li><a href='https://github.com/mycolorway/zhiren_api_doc'>贡献文档</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction - 序言</h1>

<p>欢迎使用知人的应用编程接口 API v2.0 通过 API 您可以接入知人提供的大部分服务。</p>

<p>知人 API v2.0 遵循 RESTful 风格，所有 API 的 URL 都是 <code class="prettyprint">https://zhiren.com/api/v2/&lt;apiname&gt;</code>。</p>

<ol>
<li>请求中的业务数据以 JSON 格式传递，认证数据则以 URL 查询参数的形式传递。</li>
<li>响应以 HTTP Status Code 来表示成功（2xx）或失败，如果失败，则会在响应体中以 JSON 格式给出详细的错误信息。</li>
</ol>

          <h1 id="concepts">Concepts - 概念</h1>

<h3 id="company">Company - 公司</h3>

<p>每当一家公司在知人开通服务，系统就会创建一条 Company 记录。</p>

<h4 id="company">Company 对象属性</h4>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>string</td>
<td></td>
<td>yes</td>
<td>用于唯一区分一家公司的标识符</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td></td>
<td>yes</td>
<td>公司名称</td>
</tr>
<tr>
<td>full_name</td>
<td>string</td>
<td></td>
<td>no</td>
<td>公司全称</td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td></td>
<td>no</td>
<td>公司 logo URL</td>
</tr>
</tbody></table>

<h3 id="employee">Employee - 员工</h3>

<p>一个公司拥有多个员工。员工是本系统核心概念之一。</p>

<h4 id="employee">Employee 对象属性</h4>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>字符串</td>
<td></td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>姓名</td>
</tr>
<tr>
<td>sex</td>
<td>枚举串</td>
<td></td>
<td>性别</td>
</tr>
<tr>
<td>email</td>
<td>字符串</td>
<td></td>
<td>邮箱</td>
</tr>
<tr>
<td>mobile</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>empno</td>
<td>字符串</td>
<td></td>
<td>员工编号</td>
</tr>
<tr>
<td>phone_number</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>id_number</td>
<td>字符串</td>
<td></td>
<td>身份证号</td>
</tr>
<tr>
<td>address</td>
<td>字符串</td>
<td></td>
<td>详细地址</td>
</tr>
<tr>
<td>bank_card</td>
<td>字符串</td>
<td></td>
<td>银行卡号</td>
</tr>
<tr>
<td>photo</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
<tr>
<td>marriage</td>
<td>字符串</td>
<td></td>
<td>婚姻状况</td>
</tr>
<tr>
<td>birthday</td>
<td>字符串</td>
<td></td>
<td>公历生日</td>
</tr>
<tr>
<td>join_date</td>
<td>日期</td>
<td></td>
<td>入职日期</td>
</tr>
<tr>
<td>avatar</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
<tr>
<td>leave_date</td>
<td>日期</td>
<td></td>
<td>离职日期</td>
</tr>
<tr>
<td>status</td>
<td>字符串</td>
<td></td>
<td>员工状态，&quot;regular&quot; 表示在职，&quot;dimission&quot; 表示离职。</td>
</tr>
<tr>
<td>department_uuid</td>
<td>字符串</td>
<td></td>
<td>所在部门唯一标示</td>
</tr>
<tr>
<td>exmail</td>
<td>字符串</td>
<td></td>
<td>企业邮箱地址</td>
</tr>
</tbody></table>

          <h1 id="authentication">Authentication - 认证</h1>

<p>知人第三方服务称为 Product，通过 API 请求知人时，每一个需要验证的请求都要进行签名。</p>

<p>Product 对应每个 Company 都有唯一的 <code class="prettyprint">access_key</code> 与 <code class="prettyprint">secret_key</code> 。</p>

<table><thead>
<tr>
<th>参数名</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td><strong>access_key</strong></td>
<td>访问识别码，当您成为知人第三方服务，对应每个开通服务的公司，都会有一对 access_key 和 secret_key, 其中 access_key 必须在每次请求中附上，而 secret_key 请务必放在私有的空间，千万不可在请求中传递。</td>
</tr>
<tr>
<td><strong>signature</strong></td>
<td>使用你的 secret_key 进行签名后的字符串，放入 header 的自定义字段 x-zhiren-signature</td>
</tr>
<tr>
<td><strong>tonce</strong></td>
<td>请求时间, 必须以 <a href="https://en.wikipedia.org/wiki/Unix_time">Unix Time</a> 的格式发送, tonce与服务器时间不得超过正负 5 分钟, 否则请求将视为无效。</td>
</tr>
<tr>
<td><strong>payload</strong></td>
<td>被签名的数据体部分，JSON 格式的字符串。</td>
</tr>
</tbody></table>

<h3 id="signature">signature 的算法</h3>

<p>我们用伪代码表示签名的算法如下：</p>

<p><strong>signature = HMAC-SHA256( secret_key, string_to_sign )</strong></p>

<p>首先根据请求的参数，把参数转换为 string_to_sign, 然后用 HMAC-SHA256 算法和你的 secret_key 进行签名。</p>

<h3 id="string_to_sign">string_to_sign 的生成方式</h3>

<p>上面的公式中的 string_to_sign 由五部分组成：</p>
<pre class="highlight ruby"><code>  <span class="n">string_to_sign</span> <span class="o">=</span> <span class="n">http_method</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">access_key</span> <span class="o">+</span> <span class="n">tonce</span> <span class="o">+</span> <span class="n">payload</span><span class="p">.</span><span class="nf">to_json</span>
  <span class="n">signature</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">HMAC</span><span class="p">.</span><span class="nf">hexdigest</span> <span class="s1">'SHA256'</span><span class="p">,</span> <span class="n">secret_key</span><span class="p">,</span> <span class="n">string_to_sign</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">utf8</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"utf8"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>
<span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secret_key</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">utf8</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="nx">payload_str</span><span class="p">)).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
</code></pre>

<table><thead>
<tr>
<th>组成部分</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td><strong>http_method</strong></td>
<td>必须为大写， 比如 &ldquo;POST&rdquo;, &ldquo;GET&rdquo;, &ldquo;DELETE&rdquo;, &ldquo;PATCH&rdquo; 等</td>
</tr>
<tr>
<td><strong>path</strong></td>
<td>假设你请求的uri为 https://zhiren.com/api/v2/example 那么 path 应该为 /api/v2/example</td>
</tr>
<tr>
<td><strong>access_key</strong></td>
<td>访问识别码</td>
</tr>
<tr>
<td><strong>tonce</strong></td>
<td>请求时间</td>
</tr>
<tr>
<td><strong>payload</strong></td>
<td>被签名的数据体部分，JSON 格式的字符串。</td>
</tr>
</tbody></table>

<p>那么最终用于签名的原字符串，就是把这五个部分链接起来皆可（注意顺序不可颠倒）。</p>

          <h1 id="company">Company - 公司</h1>

<p>暂无 API。</p>

          <h1 id="subcompany">SubCompany - 子公司</h1>

<h2 id="subcompany">SubCompany 对象</h2>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>字符串</td>
<td></td>
<td>分公司唯一标识符</td>
</tr>
<tr>
<td>company_uuid</td>
<td>字符串</td>
<td></td>
<td>母公司唯一标识符</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>分公司名称</td>
</tr>
<tr>
<td>short_name</td>
<td>字符串</td>
<td></td>
<td>分公司简称</td>
</tr>
<tr>
<td>registered_address</td>
<td>字符串</td>
<td></td>
<td>注册地址</td>
</tr>
<tr>
<td>boss</td>
<td>字符串</td>
<td></td>
<td>法人姓名</td>
</tr>
</tbody></table>

<h2 id="get-all-subcompanies">Get All SubCompanies - 获得所有分公司的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/sub_companies</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 SubCompany 对象数组</p>

<h2 id="get-the-subcompany-by-subcompanyuuid-subcompanyuuid">Get The SubCompany By SubCompanyUUID - 根据分公司 SubCompanyUUID 获取某个分公司的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/sub_companies/:sub_company_uuid</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 SubCompany 对象</p>

<h2 id="get-all-employees-under-the-subcompany-by-subcompanyuuid-subcompanyuuid">Get All Employees Under The SubCompany By SubCompanyUUID - 根据分公司的 SubCompanyUUID 获取某个分公司所有员工的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/sub_companies/:sub_company_uuid/employees</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 Employee 对象数组</p>

<h2 id="get-one-employee-under-the-subcompany-by-subcompanyuuid-subcompanyuuid">Get One Employee Under The SubCompany By SubCompanyUUID - 根据分公司的 SubCompanyUUID 获取某个分公司某个员工的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/sub_companies/:sub_company_uuid/employees/:uuid</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 Employee 对象数组</p>

<h2 id="get-all-departments-under-the-subcompany-by-subcompanyuuid-subcompanyuuid">Get All Departments Under The SubCompany By SubCompanyUUID - 根据分公司的 SubCompanyUUID 获取某个分公司所有部门的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/sub_companies/:sub_company_uuid/departments</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 Department 对象数组</p>

<h2 id="get-one-department-under-the-subcompany-by-subcompanyuuid-subcompanyuuid">Get One Department Under The SubCompany By SubCompanyUUID - 根据分公司的 SubCompanyUUID 获取某个分公司某个部门的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/sub_companies/:sub_company_uuid/departments/:uuid</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 Department 对象数组</p>

          <h1 id="companytokens">CompanyTokens - 公司令牌</h1>

<h2 id="company">Company 对象</h2>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>字符串</td>
<td></td>
<td>姓名</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>公司简称</td>
</tr>
<tr>
<td>full_name</td>
<td>字符串</td>
<td></td>
<td>公司全称</td>
</tr>
<tr>
<td>logo</td>
<td>字符串</td>
<td></td>
<td>logo</td>
</tr>
</tbody></table>

<h2 id="update-the-token">Update The Token - 更新公司令牌</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /api/v2/company_tokens/:guid</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>JSON字符串</td>
<td></td>
<td>是</td>
<td>JSON Payload</td>
</tr>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<p><strong>Payload Schema</strong></p>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>区别公司的标识符</td>
</tr>
<tr>
<td>zhiren_visitor_token</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>fangke 提供给 zhiren 的令牌</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Company 对象</p>

          <h1 id="employees">Employees - 员工</h1>

<h2 id="employee">Employee 对象</h2>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>字符串</td>
<td></td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>姓名</td>
</tr>
<tr>
<td>sex</td>
<td>枚举串</td>
<td></td>
<td>性别</td>
</tr>
<tr>
<td>email</td>
<td>字符串</td>
<td></td>
<td>邮箱</td>
</tr>
<tr>
<td>mobile</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>empno</td>
<td>字符串</td>
<td></td>
<td>员工编号</td>
</tr>
<tr>
<td>phone_number</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>id_number</td>
<td>字符串</td>
<td></td>
<td>身份证号</td>
</tr>
<tr>
<td>address</td>
<td>字符串</td>
<td></td>
<td>详细地址</td>
</tr>
<tr>
<td>bank_card</td>
<td>字符串</td>
<td></td>
<td>银行卡号</td>
</tr>
<tr>
<td>photo</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
<tr>
<td>marriage</td>
<td>字符串</td>
<td></td>
<td>婚姻状况</td>
</tr>
<tr>
<td>birthday</td>
<td>字符串</td>
<td></td>
<td>公历生日</td>
</tr>
<tr>
<td>join_date</td>
<td>日期</td>
<td></td>
<td>入职日期</td>
</tr>
<tr>
<td>avatar</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
<tr>
<td>leave_date</td>
<td>日期</td>
<td></td>
<td>离职日期</td>
</tr>
<tr>
<td>status</td>
<td>字符串</td>
<td></td>
<td>员工状态，&quot;regular&quot; 表示在职，&quot;dimission&quot; 表示离职。</td>
</tr>
<tr>
<td>department_uuid</td>
<td>字符串</td>
<td></td>
<td>所在部门唯一标示</td>
</tr>
<tr>
<td>exmail</td>
<td>字符串</td>
<td></td>
<td>企业邮箱地址</td>
</tr>
</tbody></table>

<h2 id="get-all-employees">Get All Employees - 获得公司全部员工的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/employees</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>JSON字符串</td>
<td></td>
<td>是</td>
<td>JSON Payload</td>
</tr>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<p><strong>Payload Schema</strong></p>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>区别公司的标识符</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 EmployeePresenter 对象数组</p>

<h2 id="get-the-employee-by-mobile">Get the Employee by Mobile - 根据员工手机号查找某一员工的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/employees/:mobile</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>JSON字符串</td>
<td></td>
<td>是</td>
<td>JSON Payload</td>
</tr>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<p><strong>Payload Schema</strong></p>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>区别公司的标识符</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 Employee 对象</p>

          <h1 id="attendant-employees">Attendant Employees - 出勤员工</h1>

<h2 id="employee">Employee 对象</h2>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>字符串</td>
<td></td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>姓名</td>
</tr>
<tr>
<td>sex</td>
<td>枚举串</td>
<td></td>
<td>性别</td>
</tr>
<tr>
<td>email</td>
<td>字符串</td>
<td></td>
<td>邮箱</td>
</tr>
<tr>
<td>mobile</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>phone_number</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>id_number</td>
<td>字符串</td>
<td></td>
<td>身份证号</td>
</tr>
<tr>
<td>address</td>
<td>字符串</td>
<td></td>
<td>详细地址</td>
</tr>
<tr>
<td>bank_card</td>
<td>字符串</td>
<td></td>
<td>银行卡号</td>
</tr>
<tr>
<td>photo</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
<tr>
<td>marriage</td>
<td>字符串</td>
<td></td>
<td>婚姻状况</td>
</tr>
<tr>
<td>birthday</td>
<td>字符串</td>
<td></td>
<td>公历生日</td>
</tr>
<tr>
<td>join_date</td>
<td>日期</td>
<td></td>
<td>入职日期</td>
</tr>
<tr>
<td>avatar</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
</tbody></table>

<h2 id="check-attendance-today">Check attendance today - 检查某位员工今日是否出勤</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/employees/:guid/check_attendance</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>JSON字符串</td>
<td></td>
<td>是</td>
<td>JSON Payload</td>
</tr>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<p><strong>Payload Schema</strong></p>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>区别公司的标识符</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Employee 对象</p>

          <h1 id="notifyemployees">NotifyEmployees - 员工提醒</h1>

<h2 id="employee">Employee 对象</h2>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>字符串</td>
<td></td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>姓名</td>
</tr>
<tr>
<td>sex</td>
<td>枚举串</td>
<td></td>
<td>性别</td>
</tr>
<tr>
<td>email</td>
<td>字符串</td>
<td></td>
<td>邮箱</td>
</tr>
<tr>
<td>mobile</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>phone_number</td>
<td>字符串</td>
<td></td>
<td>手机号</td>
</tr>
<tr>
<td>id_number</td>
<td>字符串</td>
<td></td>
<td>身份证号</td>
</tr>
<tr>
<td>address</td>
<td>字符串</td>
<td></td>
<td>详细地址</td>
</tr>
<tr>
<td>bank_card</td>
<td>字符串</td>
<td></td>
<td>银行卡号</td>
</tr>
<tr>
<td>photo</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
<tr>
<td>marriage</td>
<td>字符串</td>
<td></td>
<td>婚姻状况</td>
</tr>
<tr>
<td>birthday</td>
<td>字符串</td>
<td></td>
<td>公历生日</td>
</tr>
<tr>
<td>join_date</td>
<td>日期</td>
<td></td>
<td>入职日期</td>
</tr>
<tr>
<td>avatar</td>
<td>字符串</td>
<td></td>
<td>头像</td>
</tr>
</tbody></table>

<h2 id="notify-employee-by-guid">Notify Employee By Guid - 提醒员工接见访客</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/v2/employees/:guid/notify</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>JSON字符串</td>
<td></td>
<td>是</td>
<td>JSON Payload</td>
</tr>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<p><strong>Payload Schema</strong></p>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>区别公司的标识符</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>访客姓名</td>
</tr>
<tr>
<td>time</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>到访时间</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Employee 对象</p>

          <h1 id="departments">Departments - 部门</h1>

<h2 id="department">Department 对象</h2>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>字符串</td>
<td></td>
<td>部门名称</td>
</tr>
<tr>
<td>uuid</td>
<td>字符串</td>
<td></td>
<td>部门唯一标识符</td>
</tr>
<tr>
<td>superior_uuid</td>
<td>字符串</td>
<td></td>
<td>上级部门唯一标识符</td>
</tr>
<tr>
<td>sub_company</td>
<td>字符串</td>
<td></td>
<td>子公司名称</td>
</tr>
</tbody></table>

<h2 id="get-all-departments">Get All Departments - 获得公司全部部门的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/departments</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 Department 对象数组</p>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"管理组"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7684be70c34c554c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"运营组"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8674be70c34c554c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"系统组"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8689be70c34c554c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"知人"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8684qe70c34c554c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8684be00c34c554c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"行政组"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8684be70c34c524c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"产品组"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8684be70c34c554c8fdc062eba4382ke"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"移动客户端"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8684be70c34c554c8fdc062eba4382bp"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"测试部门"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49c932694bcab42f688863561cf746e1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8684be70c34c554c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h2 id="get-the-department-by-uuid">Get the Department by uuid - 根据部门唯一标识符查找某一部门的信息</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/departments/:uuid</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>JSON 格式的 Employee 对象</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"管理组"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7684be70c34c554c8fdc062eba4382be"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"superior_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sub_company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"成都彩程软件设计有限公司"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="moka-crm">Moka - 招聘 CRM</h1>

<h2 id="create-candidates">Create candidates - 创建候选人</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/v2/moka_candidates</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>JSON字符串</td>
<td></td>
<td>是</td>
<td>JSON Payload</td>
</tr>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="payload-schema">Payload Schema</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6XYfZGL4RWFfjSEpsEpdJ2eB"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"张三"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13203030303"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a@b.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"男"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"birthYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1990</span><span class="p">,</span><span class="w">
  </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"拉勾网"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"academicDegree"</span><span class="p">:</span><span class="w"> </span><span class="s2">"本科"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"married"</span><span class="p">:</span><span class="w"> </span><span class="s2">"未婚"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"educationInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2007-09"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-09"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"school"</span><span class="p">:</span><span class="w"> </span><span class="s2">"北京大学"</span><span class="p">,</span><span class="w"> </span><span class="err">//必填</span><span class="w">
      </span><span class="nt">"speciality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"数学与应用数学"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"academicDegree"</span><span class="p">:</span><span class="w"> </span><span class="s2">"理学学士"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"experienceInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-05"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"腾讯广研"</span><span class="p">,</span><span class="w"> </span><span class="err">//必填</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"前端工程师"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"resumeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://url.com/file"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jobTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"前端工程师"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"李四"</span><span class="p">,</span><span class="w"> </span><span class="err">//必填</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lisi@a.com"</span><span class="p">,</span><span class="w"> </span><span class="err">//必填</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15828748567"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"interviewFeedbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://url.com/file"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"offerAttachmentUrls"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"offerInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td></td>
<td>是</td>
<td>候选人在 Moka 中的 id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td></td>
<td>是</td>
<td>姓名</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td></td>
<td>是</td>
<td>电话</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td></td>
<td>是</td>
<td>邮箱</td>
</tr>
<tr>
<td>jobTitle</td>
<td>string</td>
<td></td>
<td>是</td>
<td>申请的职位名称</td>
</tr>
<tr>
<td>operator</td>
<td>hash</td>
<td></td>
<td>是</td>
<td>Moka 操作人</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td></td>
<td>否</td>
<td>性别, 男、女</td>
</tr>
<tr>
<td>birthYear</td>
<td>integer</td>
<td></td>
<td>否</td>
<td>出生年份，1990</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td></td>
<td>否</td>
<td>渠道， 拉勾</td>
</tr>
<tr>
<td>academicDegree</td>
<td>string</td>
<td></td>
<td>否</td>
<td>学历，[&lsquo;本科&rsquo;, &#39;硕士&rsquo;, &#39;博士&rsquo;, &#39;高中&rsquo;, &#39;大专&rsquo;, &#39;中专&rsquo;&#39;MBA&rsquo;, &#39;其他&rsquo;]</td>
</tr>
<tr>
<td>married</td>
<td>string</td>
<td></td>
<td>否</td>
<td>[&#39;已婚&rsquo;, &#39;未婚&rsquo;, &#39;离异&rsquo;]</td>
</tr>
<tr>
<td>educationInfo</td>
<td>hash</td>
<td></td>
<td>否</td>
<td>教育经历</td>
</tr>
<tr>
<td>experienceInfo</td>
<td>hash</td>
<td></td>
<td>否</td>
<td>工作经历</td>
</tr>
<tr>
<td>resumeUrl</td>
<td>string</td>
<td></td>
<td>否</td>
<td>简历下载url</td>
</tr>
<tr>
<td>interviewFeedbackUrl</td>
<td>string</td>
<td></td>
<td>否</td>
<td>面试反馈文件下载url</td>
</tr>
<tr>
<td>offerAttachmentUrls</td>
<td>array</td>
<td></td>
<td>否</td>
<td>offer 附件下载</td>
</tr>
<tr>
<td>offerInfo</td>
<td>hash</td>
<td></td>
<td>否</td>
<td>offer 信息</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p><code class="prettyprint">{ error_code: 0, error_message: &#39;ok&#39; }</code></p>

<h2 id="bind-company-moka">Bind Company - 将 moka 中的公司与知人中的公司进行绑定</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /api/v2/moka_binds/:bind_code</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>JSON字符串</td>
<td></td>
<td>是</td>
<td>JSON Payload</td>
</tr>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="payload-schema">Payload Schema</h3>
<pre class="highlight plaintext"><code>{
  "apiKey": "95dv8R869ELP30NLI4Zg96RqM120N1mQ",
  "companyName": "彩程设计"
}

</code></pre>

<table><thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>apiKey</td>
<td>string</td>
<td></td>
<td>是</td>
<td>Moka 公司唯一标识符</td>
</tr>
<tr>
<td>companyName</td>
<td>string</td>
<td></td>
<td>是</td>
<td>公司名称</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p><code class="prettyprint">{ error_code: 0, error_message: &#39;ok&#39; }</code></p>

<h2 id="unbind-company-moka">Unbind Company - 将 moka 中的公司与知人中的公司进行解绑</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/v2/moka_binds/:bind_code</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p><code class="prettyprint">{ error_code: 0, error_message: &#39;ok&#39; }</code></p>

<h2 id="check-bind-code-bind-code">Check Bind Code - 检查 bind code 是否有效</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v2/moka_binds/:bind_code</code></p>

<h3 id="http-parameters">HTTP Parameters</h3>

<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>access_key</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>API Key</td>
</tr>
<tr>
<td>tonce</td>
<td>整型</td>
<td></td>
<td>是</td>
<td>以秒为单位的UNIX timestamp</td>
</tr>
<tr>
<td>signature</td>
<td>字符串</td>
<td></td>
<td>是</td>
<td>请求签名</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p><code class="prettyprint">{ error_code: 0, error_message: &#39;ok&#39; }</code></p>

          <h1 id="errors">Errors - 错误代码</h1>

<p>正常API返回的 HTTP Status Code 为 2xx 或 3xx。如果遇到错误，HTTP Status Code 为 4xx 或 5xx,
同时返回报文内容会包含具体错误信息，包括错误代码和错误消息。</p>

<h2 id="api">API 错误代码列表</h2>

<table><thead>
<tr>
<th>错误代码</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td><strong>1xxx</strong></td>
<td><strong>认证错误</strong></td>
</tr>
<tr>
<td>1001</td>
<td>缺少 access_key</td>
</tr>
<tr>
<td>1002</td>
<td>缺少签名</td>
</tr>
<tr>
<td>1003</td>
<td>缺少 tonce</td>
</tr>
<tr>
<td>1101</td>
<td>签名无效</td>
</tr>
<tr>
<td>1102</td>
<td>不存在的记录</td>
</tr>
<tr>
<td>1103</td>
<td>tonce 无效</td>
</tr>
<tr>
<td>1104</td>
<td>没有找到对应的公司</td>
</tr>
<tr>
<td>1105</td>
<td>access_key 无效</td>
</tr>
<tr>
<td><strong>2xxx</strong></td>
<td><strong>参数错误</strong></td>
</tr>
<tr>
<td>2001</td>
<td>未实现：API参数验证错误</td>
</tr>
<tr>
<td>2002</td>
<td>对象验证错误</td>
</tr>
<tr>
<td>2003</td>
<td>未实现：无效的身份事项代码</td>
</tr>
<tr>
<td>2004</td>
<td>JSON 格式错误</td>
</tr>
<tr>
<td><strong>3xxx</strong></td>
<td><strong>参数错误</strong></td>
</tr>
<tr>
<td>3001</td>
<td>没有权限访问该 API</td>
</tr>
<tr>
<td>3002</td>
<td>bind_code 已过期</td>
</tr>
<tr>
<td><strong>9xxx</strong></td>
<td><strong>其他错误</strong></td>
</tr>
</tbody></table>

          <h1 id="changelog">Changelog - 变更历史</h1>

<h2 id="api-changelog">API changelog</h2>

<p>暂无。</p>

<h2 id="api-documentation-changelog">API documentation Changelog</h2>

<ul>
<li>2016-09-09 补充 API host（https://zhiren.com/api/v1/<apiname>）</li>
<li>2016-12-29 新增员工提醒、出勤员工、Moka 候选人 API</li>
<li>2017-01-08 新增获取子公司、子公司部门、子公司员工信息的 API</li>
<li>2017-01-17 新增绑定、解绑 Moka 公司以及查询 bind_code 有效性的 API</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
